<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>MEN - MSCAN API - mscan_api.h Source File</title>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<meta name="Language" content="en, english">
<meta name="Copyright" content="All material copyright MEN Mikro Elektronik GmbH">
<link href="men_stylesheet.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class="left_to_right" style="padding-top: 6px; background-color: #F0F0F0; height: 110px; border-bottom: 2px solid #D1D1D2;">
	<!-- Titel -->
	<img src="menlogo.gif" alt="MEN" style="float: left; height: 103px; width: 155px; margin: 0px;">
	<h1 style="margin: 0px; padding-top: 35px; padding-bottom: 0px;">MSCAN API &nbsp; </h1>
	<h3>mscan_api.h Source File</h3>
</div>

<div class="left_to_right">
<!-- Hauptteil -->
	<div class="main">
<!-- Generated by Doxygen 1.3.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>mscan_api.h</h1><a href="mscan__api_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/***********************  I n c l u d e  -  F i l e  ************************/</span>
00011 <span class="comment">/*</span>
00012 <span class="comment"> *---------------------------------------------------------------------------</span>
00013 <span class="comment"> * Copyright 2002-2019, MEN Mikro Elektronik GmbH</span>
00014 <span class="comment"> ****************************************************************************/</span>
00015 <span class="comment">/*</span>
00016 <span class="comment"> * This library is free software; you can redistribute it and/or</span>
00017 <span class="comment"> * modify it under the terms of the GNU Lesser General Public</span>
00018 <span class="comment"> * License as published by the Free Software Foundation; either</span>
00019 <span class="comment"> * version 2.1 of the License, or (at your option) any later version.</span>
00020 <span class="comment"> *</span>
00021 <span class="comment"> * This library is distributed in the hope that it will be useful,</span>
00022 <span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
00023 <span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU</span>
00024 <span class="comment"> * Lesser General Public License for more details.</span>
00025 <span class="comment"> *</span>
00026 <span class="comment"> * You should have received a copy of the GNU Lesser General License</span>
00027 <span class="comment"> * along with this program. If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
00028 <span class="comment">*/</span>
00029 
00030 <span class="preprocessor">#ifndef _MSCAN_API_H</span>
00031 <span class="preprocessor"></span><span class="preprocessor">#define _MSCAN_API_H</span>
00032 <span class="preprocessor"></span>
00033 <span class="preprocessor">#ifdef __cplusplus</span>
00034 <span class="preprocessor"></span>    <span class="keyword">extern</span> <span class="stringliteral">"C"</span> {
00035 <span class="preprocessor">#endif</span>
00036 <span class="preprocessor"></span>
00037 <span class="comment">/*--------------------------------------+</span>
00038 <span class="comment">|   TYPEDEFS                            |</span>
00039 <span class="comment">+--------------------------------------*/</span>
00040 
<a name="l00042"></a><a class="code" href="mscan__api_8h.html#a63">00042</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
00043     <a class="code" href="mscan__api_8h.html#a63a13">MSCAN_BR_1MB</a>=0,             
00044     <a class="code" href="mscan__api_8h.html#a63a14">MSCAN_BR_800K</a>,              
00045     <a class="code" href="mscan__api_8h.html#a63a15">MSCAN_BR_500K</a>,              
00046     <a class="code" href="mscan__api_8h.html#a63a16">MSCAN_BR_250K</a>,              
00047     <a class="code" href="mscan__api_8h.html#a63a17">MSCAN_BR_125K</a>,              
00048     <a class="code" href="mscan__api_8h.html#a63a18">MSCAN_BR_100K</a>,              
00049     <a class="code" href="mscan__api_8h.html#a63a19">MSCAN_BR_50K</a>,               
00050     <a class="code" href="mscan__api_8h.html#a63a20">MSCAN_BR_20K</a>,               
00051     <a class="code" href="mscan__api_8h.html#a63a21">MSCAN_BR_10K</a>                
00052 } <a class="code" href="mscan__api_8h.html#a63">MSCAN_BITRATE</a>;
00053 
<a name="l00055"></a><a class="code" href="mscan__api_8h.html#a64">00055</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
00056     <a class="code" href="mscan__api_8h.html#a64a22">MSCAN_BUSOFF_SET</a>=1,         
00057     <a class="code" href="mscan__api_8h.html#a64a23">MSCAN_BUSOFF_CLR</a>,           
00058     <a class="code" href="mscan__api_8h.html#a64a24">MSCAN_WARN_SET</a>,             
00059     <a class="code" href="mscan__api_8h.html#a64a25">MSCAN_WARN_CLR</a>,             
00060     <a class="code" href="mscan__api_8h.html#a64a26">MSCAN_QOVERRUN</a>,             
00061     <a class="code" href="mscan__api_8h.html#a64a27">MSCAN_DATA_OVERRUN</a>          
00062 } <a class="code" href="mscan__api_8h.html#a64">MSCAN_ERRENTRY_CODE</a>;
00063 
<a name="l00065"></a><a class="code" href="mscan__api_8h.html#a65">00065</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
00066     <a class="code" href="mscan__api_8h.html#a65a28">MSCAN_DIR_DIS</a>,              
00067     <a class="code" href="mscan__api_8h.html#a65a29">MSCAN_DIR_RCV</a>,              
00068     <a class="code" href="mscan__api_8h.html#a65a30">MSCAN_DIR_XMT</a>               
00069 } <a class="code" href="mscan__api_8h.html#a65">MSCAN_DIR</a>;
00070 
<a name="l00072"></a><a class="code" href="mscan__api_8h.html#a66">00072</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
00073     <a class="code" href="mscan__api_8h.html#a66a31">MSCAN_EXTENDED</a>=0x1,         
00074     <a class="code" href="mscan__api_8h.html#a66a32">MSCAN_RTR</a>=0x2,              
00075     <a class="code" href="mscan__api_8h.html#a66a33">MSCAN_USE_ACCFIELD</a>=0x4      
00076 } <a class="code" href="mscan__api_8h.html#a66">MSCAN_FLAGS</a>;
00077 
<a name="l00079"></a><a class="code" href="structMSCAN__FRAME.html">00079</a> <span class="keyword">typedef</span> <span class="keyword">struct</span>{
<a name="l00080"></a><a class="code" href="structMSCAN__FRAME.html#o0">00080</a>     u_int32 id;                 
<a name="l00081"></a><a class="code" href="structMSCAN__FRAME.html#o1">00081</a>     u_int8  flags;              
<a name="l00082"></a><a class="code" href="structMSCAN__FRAME.html#o2">00082</a>     u_int8  dataLen;            
<a name="l00083"></a><a class="code" href="structMSCAN__FRAME.html#o3">00083</a>     u_int8  data[8];            
00084 } <a class="code" href="structMSCAN__FRAME.html">MSCAN_FRAME</a>;
00085 
<a name="l00087"></a><a class="code" href="mscan__api_8h.html#a67">00087</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
00089     <a class="code" href="mscan__api_8h.html#a67a34">MSCAN_NS_ERROR_ACTIVE</a>,      
00091     <a class="code" href="mscan__api_8h.html#a67a35">MSCAN_NS_ERROR_PASSIVE</a>, 
00093     <a class="code" href="mscan__api_8h.html#a67a36">MSCAN_NS_BUS_OFF</a>
00094 } <a class="code" href="mscan__api_8h.html#a67">MSCAN_NODE_STATUS</a>;
00095 
<a name="l00097"></a><a class="code" href="mscan__api_8h.html#a0">00097</a> <span class="preprocessor">#define MSCAN_ACCFIELD_GET(field,id)  (field[(id)&gt;&gt;3] &amp; (0x80&gt;&gt;((id)&amp;7)))</span>
00098 <span class="preprocessor"></span>
<a name="l00100"></a><a class="code" href="mscan__api_8h.html#a1">00100</a> <span class="preprocessor">#define MSCAN_ACCFIELD_SET(field,id)  (field[(id)&gt;&gt;3] |= (0x80&gt;&gt;((id)&amp;7)))</span>
00101 <span class="preprocessor"></span>
<a name="l00103"></a><a class="code" href="mscan__api_8h.html#a2">00103</a> <span class="preprocessor">#define MSCAN_ACCFIELD_CLR(field,id)  (field[(id)&gt;&gt;3] &amp;= ~(0x80&gt;&gt;((id)&amp;7)))</span>
00104 <span class="preprocessor"></span>
<a name="l00106"></a><a class="code" href="structMSCAN__FILTER.html">00106</a> <span class="keyword">typedef</span> <span class="keyword">struct</span>{
00107 
<a name="l00114"></a><a class="code" href="structMSCAN__FILTER.html#o0">00114</a>     u_int32 code;                   
00115 
<a name="l00120"></a><a class="code" href="structMSCAN__FILTER.html#o1">00120</a>     u_int32 mask;               
00121 
<a name="l00131"></a><a class="code" href="structMSCAN__FILTER.html#o2">00131</a>     u_int32 cflags;         
00132 
<a name="l00141"></a><a class="code" href="structMSCAN__FILTER.html#o3">00141</a>     u_int32 mflags; 
00142 
<a name="l00162"></a><a class="code" href="structMSCAN__FILTER.html#o4">00162</a>     u_int8 accField[256];
00163 
00164 } <a class="code" href="structMSCAN__FILTER.html">MSCAN_FILTER</a>;
00165 
00166 
00167 <span class="comment">/*--------------------------------------+</span>
00168 <span class="comment">|   DEFINES                             |</span>
00169 <span class="comment">+--------------------------------------*/</span>
00170 <span class="comment">/*----- API Error codes -----------------------------------------------------*/</span>
<a name="l00171"></a><a class="code" href="mscan__api_8h.html#a3">00171</a> <span class="preprocessor">#define MSCAN_ERR_BADSPEED      (ERR_DEV+1) </span>
<a name="l00172"></a><a class="code" href="mscan__api_8h.html#a4">00172</a> <span class="preprocessor">#define MSCAN_ERR_NOMESSAGE     (ERR_DEV+8) </span>
<a name="l00173"></a><a class="code" href="mscan__api_8h.html#a5">00173</a> <span class="preprocessor">#define MSCAN_ERR_BADTMDETAILS  (ERR_DEV+12)</span>
<a name="l00174"></a><a class="code" href="mscan__api_8h.html#a6">00174</a> <span class="preprocessor">#define MSCAN_ERR_BADMSGNUM (ERR_LL_ILL_CHAN)</span>
<a name="l00175"></a><a class="code" href="mscan__api_8h.html#a7">00175</a> <span class="preprocessor">#define MSCAN_ERR_BADDIR        (ERR_DEV+14)</span>
<a name="l00176"></a><a class="code" href="mscan__api_8h.html#a8">00176</a> <span class="preprocessor">#define MSCAN_ERR_QFULL         (ERR_DEV+15)</span>
<a name="l00177"></a><a class="code" href="mscan__api_8h.html#a9">00177</a> <span class="preprocessor">#define MSCAN_ERR_SIGBUSY       (ERR_DEV+16)</span>
<a name="l00178"></a><a class="code" href="mscan__api_8h.html#a10">00178</a> <span class="preprocessor">#define MSCAN_ERR_BADPARAMETER  (ERR_LL_ILL_PARAM) </span>
<a name="l00179"></a><a class="code" href="mscan__api_8h.html#a11">00179</a> <span class="preprocessor">#define MSCAN_ERR_NOTINIT       (ERR_DEV+17) </span>
<a name="l00180"></a><a class="code" href="mscan__api_8h.html#a12">00180</a> <span class="preprocessor">#define MSCAN_ERR_ONLINE        (ERR_DEV+18) </span>
00182 <span class="preprocessor"></span><span class="comment">/*--------------------------------------+</span>
00183 <span class="comment">|   PROTOTYPES                          |</span>
00184 <span class="comment">+--------------------------------------*/</span>
00185 MDIS_PATH __MAPILIB <a class="code" href="mscan__api_8c.html#a2">mscan_init</a>(<span class="keywordtype">char</span> *device);
00186 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a3">mscan_term</a>(MDIS_PATH path);
00187 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a4">mscan_set_filter</a>(
00188     MDIS_PATH path,
00189     <span class="keyword">const</span> <a class="code" href="structMSCAN__FILTER.html">MSCAN_FILTER</a> *filter1,
00190     <span class="keyword">const</span> <a class="code" href="structMSCAN__FILTER.html">MSCAN_FILTER</a> *filter2);
00191 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a5">mscan_config_msg</a>(
00192     MDIS_PATH path,
00193     u_int32 nr, 
00194     MSCAN_DIR dir,
00195     u_int32 qEntries,
00196     <span class="keyword">const</span> <a class="code" href="structMSCAN__FILTER.html">MSCAN_FILTER</a> *filter );
00197 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a6">mscan_set_bitrate</a>(
00198     MDIS_PATH path,
00199     MSCAN_BITRATE bitrate,
00200     u_int32 spl );
00201 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a7">mscan_set_bustiming</a>(
00202     MDIS_PATH path,
00203     u_int8 brp, 
00204     u_int8 sjw,
00205     u_int8 tseg1,
00206     u_int8 tseg2,
00207     u_int8 spl );
00208 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a8">mscan_read_msg</a>(
00209     MDIS_PATH path,
00210     u_int32 nr,
00211     int32 timeout,
00212     <a class="code" href="structMSCAN__FRAME.html">MSCAN_FRAME</a> *msg );
00213 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a9">mscan_read_nmsg</a>(
00214     MDIS_PATH path,
00215     u_int32 nr,
00216     int32 nFrames,
00217     <a class="code" href="structMSCAN__FRAME.html">MSCAN_FRAME</a> *msg );
00218 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a10">mscan_write_msg</a>(
00219     MDIS_PATH path,
00220     u_int32 nr,
00221     int32 timeout,
00222     <span class="keyword">const</span> <a class="code" href="structMSCAN__FRAME.html">MSCAN_FRAME</a> *msg);
00223 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a11">mscan_write_nmsg</a>(
00224     MDIS_PATH path,
00225     u_int32 nr,
00226     int32 nFrames,
00227     <span class="keyword">const</span> <a class="code" href="structMSCAN__FRAME.html">MSCAN_FRAME</a> *msg);
00228 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a12">mscan_read_error</a>(
00229     MDIS_PATH path,
00230     u_int32 *errCodeP,
00231     u_int32 *nrP);
00232 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a13">mscan_set_rcvsig</a>(
00233     MDIS_PATH path,
00234     u_int32 nr,
00235     int32 signal);
00236 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a14">mscan_set_xmtsig</a>(
00237     MDIS_PATH path,
00238     u_int32 nr,
00239     int32 signal);
00240 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a15">mscan_clr_rcvsig</a>(
00241     MDIS_PATH path,
00242     u_int32 nr);
00243 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a16">mscan_clr_xmtsig</a>(
00244     MDIS_PATH path,
00245     u_int32 nr);
00246 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a17">mscan_queue_status</a>(
00247     MDIS_PATH path,
00248     u_int32 nr,
00249     u_int32 *entriesP,
00250     MSCAN_DIR *directionP);
00251 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a18">mscan_queue_clear</a>(
00252     MDIS_PATH path,
00253     u_int32 nr,
00254     <span class="keywordtype">int</span> txabort);
00255 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a19">mscan_clear_busoff</a>(
00256     MDIS_PATH path);
00257 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a20">mscan_enable</a>(
00258     MDIS_PATH path,
00259     u_int32 enable );
00260 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a21">mscan_rtr</a>(
00261     MDIS_PATH path,
00262     u_int32 nr,
00263     u_int32 id);
00264 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a22">mscan_set_loopback</a>(
00265     MDIS_PATH path,
00266     <span class="keywordtype">int</span> enable);
00267 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a23">mscan_node_status</a>(
00268     MDIS_PATH path,
00269     MSCAN_NODE_STATUS *statusP );
00270 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a24">mscan_error_counters</a>(
00271     MDIS_PATH path,
00272     u_int8 *txErrCntP,
00273     u_int8 *rxErrCntP);
00274 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a25">mscan_dump_internals</a>(
00275     MDIS_PATH path,
00276     <span class="keywordtype">char</span> *buffer,
00277     <span class="keywordtype">int</span> maxLen );
00278 
00279 <span class="comment">/* mscan_strings.c */</span>
00280 <span class="keywordtype">char</span> * __MAPILIB <a class="code" href="mscan__strings_8c.html#a0">mscan_errmsg</a>(int32 error);
00281 <span class="keyword">const</span> <span class="keywordtype">char</span> * __MAPILIB <a class="code" href="mscan__strings_8c.html#a1">mscan_errobj_msg</a>( u_int32 errCode  );
00282 
00283 <span class="preprocessor">#ifdef __cplusplus</span>
00284 <span class="preprocessor"></span>    }
00285 <span class="preprocessor">#endif</span>
00286 <span class="preprocessor"></span>
00287 <span class="preprocessor">#endif  </span><span class="comment">/* _MSCAN_API_H */</span>
00288 
</pre></div>
	</div>
</div>

<div class="footer">
<!-- Footer -->
	<p class="footer">
	Generated for MSCAN API using <a href="http://www.doxygen.org">doxygen</a>. All Rights Reserved.
	</p>
</div>

</body>
</html>

