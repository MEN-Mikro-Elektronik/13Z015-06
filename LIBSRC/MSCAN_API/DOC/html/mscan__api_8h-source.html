<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>MEN - MSCAN API - mscan_api.h Source File</title>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<meta name="Language" content="en, english">
<meta name="Copyright" content="All material copyright MEN Mikro Elektronik GmbH">
<link href="men_stylesheet.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class="left_to_right" style="padding-top: 6px; background-color: #F0F0F0; height: 110px; border-bottom: 2px solid #D1D1D2;">
	<!-- Titel -->
	<img src="menlogo.gif" alt="MEN" style="float: left; height: 103px; width: 155px; margin: 0px;">
	<h1 style="margin: 0px; padding-top: 35px; padding-bottom: 0px;">MSCAN API &nbsp; </h1>
	<h3>mscan_api.h Source File</h3>
</div>

<div class="left_to_right">
<!-- Hauptteil -->
	<div class="main">
<!-- Generated by Doxygen 1.3.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>mscan_api.h</h1><a href="mscan__api_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/***********************  I n c l u d e  -  F i l e  ************************/</span>
00013 <span class="comment">/*</span>
00014 <span class="comment"> *---------------------------------------------------------------------------</span>
00015 <span class="comment"> * Copyright (c) 2002-2019, MEN Mikro Elektronik GmbH</span>
00016 <span class="comment"> ****************************************************************************/</span>
00017 <span class="comment">/*</span>
00018 <span class="comment">* This program is free software: you can redistribute it and/or modify</span>
00019 <span class="comment">* it under the terms of the GNU General Public License as published by</span>
00020 <span class="comment">* the Free Software Foundation, either version 2 of the License, or</span>
00021 <span class="comment">* (at your option) any later version.</span>
00022 <span class="comment">*</span>
00023 <span class="comment">* This program is distributed in the hope that it will be useful,</span>
00024 <span class="comment">* but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
00025 <span class="comment">* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
00026 <span class="comment">* GNU General Public License for more details.</span>
00027 <span class="comment">*</span>
00028 <span class="comment">* You should have received a copy of the GNU General Public License</span>
00029 <span class="comment">* along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
00030 <span class="comment">*/</span>
00031 
00032 <span class="preprocessor">#ifndef _MSCAN_API_H</span>
00033 <span class="preprocessor"></span><span class="preprocessor">#define _MSCAN_API_H</span>
00034 <span class="preprocessor"></span>
00035 <span class="preprocessor">#ifdef __cplusplus</span>
00036 <span class="preprocessor"></span>    <span class="keyword">extern</span> <span class="stringliteral">"C"</span> {
00037 <span class="preprocessor">#endif</span>
00038 <span class="preprocessor"></span>
00039 <span class="comment">/*--------------------------------------+</span>
00040 <span class="comment">|   TYPEDEFS                            |</span>
00041 <span class="comment">+--------------------------------------*/</span>
00042 
<a name="l00044"></a><a class="code" href="mscan__api_8h.html#a63">00044</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
00045     <a class="code" href="mscan__api_8h.html#a63a13">MSCAN_BR_1MB</a>=0,             
00046     <a class="code" href="mscan__api_8h.html#a63a14">MSCAN_BR_800K</a>,              
00047     <a class="code" href="mscan__api_8h.html#a63a15">MSCAN_BR_500K</a>,              
00048     <a class="code" href="mscan__api_8h.html#a63a16">MSCAN_BR_250K</a>,              
00049     <a class="code" href="mscan__api_8h.html#a63a17">MSCAN_BR_125K</a>,              
00050     <a class="code" href="mscan__api_8h.html#a63a18">MSCAN_BR_100K</a>,              
00051     <a class="code" href="mscan__api_8h.html#a63a19">MSCAN_BR_50K</a>,               
00052     <a class="code" href="mscan__api_8h.html#a63a20">MSCAN_BR_20K</a>,               
00053     <a class="code" href="mscan__api_8h.html#a63a21">MSCAN_BR_10K</a>                
00054 } <a class="code" href="mscan__api_8h.html#a63">MSCAN_BITRATE</a>;
00055 
<a name="l00057"></a><a class="code" href="mscan__api_8h.html#a64">00057</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
00058     <a class="code" href="mscan__api_8h.html#a64a22">MSCAN_BUSOFF_SET</a>=1,         
00059     <a class="code" href="mscan__api_8h.html#a64a23">MSCAN_BUSOFF_CLR</a>,           
00060     <a class="code" href="mscan__api_8h.html#a64a24">MSCAN_WARN_SET</a>,             
00061     <a class="code" href="mscan__api_8h.html#a64a25">MSCAN_WARN_CLR</a>,             
00062     <a class="code" href="mscan__api_8h.html#a64a26">MSCAN_QOVERRUN</a>,             
00063     <a class="code" href="mscan__api_8h.html#a64a27">MSCAN_DATA_OVERRUN</a>          
00064 } <a class="code" href="mscan__api_8h.html#a64">MSCAN_ERRENTRY_CODE</a>;
00065 
<a name="l00067"></a><a class="code" href="mscan__api_8h.html#a65">00067</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
00068     <a class="code" href="mscan__api_8h.html#a65a28">MSCAN_DIR_DIS</a>,              
00069     <a class="code" href="mscan__api_8h.html#a65a29">MSCAN_DIR_RCV</a>,              
00070     <a class="code" href="mscan__api_8h.html#a65a30">MSCAN_DIR_XMT</a>               
00071 } <a class="code" href="mscan__api_8h.html#a65">MSCAN_DIR</a>;
00072 
<a name="l00074"></a><a class="code" href="mscan__api_8h.html#a66">00074</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
00075     <a class="code" href="mscan__api_8h.html#a66a31">MSCAN_EXTENDED</a>=0x1,         
00076     <a class="code" href="mscan__api_8h.html#a66a32">MSCAN_RTR</a>=0x2,              
00077     <a class="code" href="mscan__api_8h.html#a66a33">MSCAN_USE_ACCFIELD</a>=0x4      
00078 } <a class="code" href="mscan__api_8h.html#a66">MSCAN_FLAGS</a>;
00079 
<a name="l00081"></a><a class="code" href="structMSCAN__FRAME.html">00081</a> <span class="keyword">typedef</span> <span class="keyword">struct</span>{
<a name="l00082"></a><a class="code" href="structMSCAN__FRAME.html#o0">00082</a>     u_int32 id;                 
<a name="l00083"></a><a class="code" href="structMSCAN__FRAME.html#o1">00083</a>     u_int8  flags;              
<a name="l00084"></a><a class="code" href="structMSCAN__FRAME.html#o2">00084</a>     u_int8  dataLen;            
<a name="l00085"></a><a class="code" href="structMSCAN__FRAME.html#o3">00085</a>     u_int8  data[8];            
00086 } <a class="code" href="structMSCAN__FRAME.html">MSCAN_FRAME</a>;
00087 
<a name="l00089"></a><a class="code" href="mscan__api_8h.html#a67">00089</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
00091     <a class="code" href="mscan__api_8h.html#a67a34">MSCAN_NS_ERROR_ACTIVE</a>,      
00093     <a class="code" href="mscan__api_8h.html#a67a35">MSCAN_NS_ERROR_PASSIVE</a>, 
00095     <a class="code" href="mscan__api_8h.html#a67a36">MSCAN_NS_BUS_OFF</a>
00096 } <a class="code" href="mscan__api_8h.html#a67">MSCAN_NODE_STATUS</a>;
00097 
<a name="l00099"></a><a class="code" href="mscan__api_8h.html#a0">00099</a> <span class="preprocessor">#define MSCAN_ACCFIELD_GET(field,id)  (field[(id)&gt;&gt;3] &amp; (0x80&gt;&gt;((id)&amp;7)))</span>
00100 <span class="preprocessor"></span>
<a name="l00102"></a><a class="code" href="mscan__api_8h.html#a1">00102</a> <span class="preprocessor">#define MSCAN_ACCFIELD_SET(field,id)  (field[(id)&gt;&gt;3] |= (0x80&gt;&gt;((id)&amp;7)))</span>
00103 <span class="preprocessor"></span>
<a name="l00105"></a><a class="code" href="mscan__api_8h.html#a2">00105</a> <span class="preprocessor">#define MSCAN_ACCFIELD_CLR(field,id)  (field[(id)&gt;&gt;3] &amp;= ~(0x80&gt;&gt;((id)&amp;7)))</span>
00106 <span class="preprocessor"></span>
<a name="l00108"></a><a class="code" href="structMSCAN__FILTER.html">00108</a> <span class="keyword">typedef</span> <span class="keyword">struct</span>{
00109 
<a name="l00116"></a><a class="code" href="structMSCAN__FILTER.html#o0">00116</a>     u_int32 code;                   
00117 
<a name="l00122"></a><a class="code" href="structMSCAN__FILTER.html#o1">00122</a>     u_int32 mask;               
00123 
<a name="l00133"></a><a class="code" href="structMSCAN__FILTER.html#o2">00133</a>     u_int32 cflags;         
00134 
<a name="l00143"></a><a class="code" href="structMSCAN__FILTER.html#o3">00143</a>     u_int32 mflags; 
00144 
<a name="l00164"></a><a class="code" href="structMSCAN__FILTER.html#o4">00164</a>     u_int8 accField[256];
00165 
00166 } <a class="code" href="structMSCAN__FILTER.html">MSCAN_FILTER</a>;
00167 
00168 
00169 <span class="comment">/*--------------------------------------+</span>
00170 <span class="comment">|   DEFINES                             |</span>
00171 <span class="comment">+--------------------------------------*/</span>
00172 <span class="comment">/*----- API Error codes -----------------------------------------------------*/</span>
<a name="l00173"></a><a class="code" href="mscan__api_8h.html#a3">00173</a> <span class="preprocessor">#define MSCAN_ERR_BADSPEED      (ERR_DEV+1) </span>
<a name="l00174"></a><a class="code" href="mscan__api_8h.html#a4">00174</a> <span class="preprocessor">#define MSCAN_ERR_NOMESSAGE     (ERR_DEV+8) </span>
<a name="l00175"></a><a class="code" href="mscan__api_8h.html#a5">00175</a> <span class="preprocessor">#define MSCAN_ERR_BADTMDETAILS  (ERR_DEV+12)</span>
<a name="l00176"></a><a class="code" href="mscan__api_8h.html#a6">00176</a> <span class="preprocessor">#define MSCAN_ERR_BADMSGNUM (ERR_LL_ILL_CHAN)</span>
<a name="l00177"></a><a class="code" href="mscan__api_8h.html#a7">00177</a> <span class="preprocessor">#define MSCAN_ERR_BADDIR        (ERR_DEV+14)</span>
<a name="l00178"></a><a class="code" href="mscan__api_8h.html#a8">00178</a> <span class="preprocessor">#define MSCAN_ERR_QFULL         (ERR_DEV+15)</span>
<a name="l00179"></a><a class="code" href="mscan__api_8h.html#a9">00179</a> <span class="preprocessor">#define MSCAN_ERR_SIGBUSY       (ERR_DEV+16)</span>
<a name="l00180"></a><a class="code" href="mscan__api_8h.html#a10">00180</a> <span class="preprocessor">#define MSCAN_ERR_BADPARAMETER  (ERR_LL_ILL_PARAM) </span>
<a name="l00181"></a><a class="code" href="mscan__api_8h.html#a11">00181</a> <span class="preprocessor">#define MSCAN_ERR_NOTINIT       (ERR_DEV+17) </span>
<a name="l00182"></a><a class="code" href="mscan__api_8h.html#a12">00182</a> <span class="preprocessor">#define MSCAN_ERR_ONLINE        (ERR_DEV+18) </span>
00184 <span class="preprocessor"></span><span class="comment">/*--------------------------------------+</span>
00185 <span class="comment">|   PROTOTYPES                          |</span>
00186 <span class="comment">+--------------------------------------*/</span>
00187 MDIS_PATH __MAPILIB <a class="code" href="mscan__api_8c.html#a2">mscan_init</a>(<span class="keywordtype">char</span> *device);
00188 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a3">mscan_term</a>(MDIS_PATH path);
00189 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a4">mscan_set_filter</a>(
00190     MDIS_PATH path,
00191     <span class="keyword">const</span> <a class="code" href="structMSCAN__FILTER.html">MSCAN_FILTER</a> *filter1,
00192     <span class="keyword">const</span> <a class="code" href="structMSCAN__FILTER.html">MSCAN_FILTER</a> *filter2);
00193 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a5">mscan_config_msg</a>(
00194     MDIS_PATH path,
00195     u_int32 nr, 
00196     MSCAN_DIR dir,
00197     u_int32 qEntries,
00198     <span class="keyword">const</span> <a class="code" href="structMSCAN__FILTER.html">MSCAN_FILTER</a> *filter );
00199 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a6">mscan_set_bitrate</a>(
00200     MDIS_PATH path,
00201     MSCAN_BITRATE bitrate,
00202     u_int32 spl );
00203 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a7">mscan_set_bustiming</a>(
00204     MDIS_PATH path,
00205     u_int8 brp, 
00206     u_int8 sjw,
00207     u_int8 tseg1,
00208     u_int8 tseg2,
00209     u_int8 spl );
00210 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a8">mscan_read_msg</a>(
00211     MDIS_PATH path,
00212     u_int32 nr,
00213     int32 timeout,
00214     <a class="code" href="structMSCAN__FRAME.html">MSCAN_FRAME</a> *msg );
00215 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a9">mscan_read_nmsg</a>(
00216     MDIS_PATH path,
00217     u_int32 nr,
00218     int32 nFrames,
00219     <a class="code" href="structMSCAN__FRAME.html">MSCAN_FRAME</a> *msg );
00220 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a10">mscan_write_msg</a>(
00221     MDIS_PATH path,
00222     u_int32 nr,
00223     int32 timeout,
00224     <span class="keyword">const</span> <a class="code" href="structMSCAN__FRAME.html">MSCAN_FRAME</a> *msg);
00225 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a11">mscan_write_nmsg</a>(
00226     MDIS_PATH path,
00227     u_int32 nr,
00228     int32 nFrames,
00229     <span class="keyword">const</span> <a class="code" href="structMSCAN__FRAME.html">MSCAN_FRAME</a> *msg);
00230 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a12">mscan_read_error</a>(
00231     MDIS_PATH path,
00232     u_int32 *errCodeP,
00233     u_int32 *nrP);
00234 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a13">mscan_set_rcvsig</a>(
00235     MDIS_PATH path,
00236     u_int32 nr,
00237     int32 signal);
00238 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a14">mscan_set_xmtsig</a>(
00239     MDIS_PATH path,
00240     u_int32 nr,
00241     int32 signal);
00242 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a15">mscan_clr_rcvsig</a>(
00243     MDIS_PATH path,
00244     u_int32 nr);
00245 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a16">mscan_clr_xmtsig</a>(
00246     MDIS_PATH path,
00247     u_int32 nr);
00248 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a17">mscan_queue_status</a>(
00249     MDIS_PATH path,
00250     u_int32 nr,
00251     u_int32 *entriesP,
00252     MSCAN_DIR *directionP);
00253 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a18">mscan_queue_clear</a>(
00254     MDIS_PATH path,
00255     u_int32 nr,
00256     <span class="keywordtype">int</span> txabort);
00257 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a19">mscan_clear_busoff</a>(
00258     MDIS_PATH path);
00259 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a20">mscan_enable</a>(
00260     MDIS_PATH path,
00261     u_int32 enable );
00262 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a21">mscan_rtr</a>(
00263     MDIS_PATH path,
00264     u_int32 nr,
00265     u_int32 id);
00266 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a22">mscan_set_loopback</a>(
00267     MDIS_PATH path,
00268     <span class="keywordtype">int</span> enable);
00269 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a23">mscan_node_status</a>(
00270     MDIS_PATH path,
00271     MSCAN_NODE_STATUS *statusP );
00272 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a24">mscan_error_counters</a>(
00273     MDIS_PATH path,
00274     u_int8 *txErrCntP,
00275     u_int8 *rxErrCntP);
00276 int32 __MAPILIB <a class="code" href="mscan__api_8c.html#a25">mscan_dump_internals</a>(
00277     MDIS_PATH path,
00278     <span class="keywordtype">char</span> *buffer,
00279     <span class="keywordtype">int</span> maxLen );
00280 
00281 <span class="comment">/* mscan_strings.c */</span>
00282 <span class="keywordtype">char</span> * __MAPILIB <a class="code" href="mscan__strings_8c.html#a0">mscan_errmsg</a>(int32 error);
00283 <span class="keyword">const</span> <span class="keywordtype">char</span> * __MAPILIB <a class="code" href="mscan__strings_8c.html#a1">mscan_errobj_msg</a>( u_int32 errCode  );
00284 
00285 <span class="preprocessor">#ifdef __cplusplus</span>
00286 <span class="preprocessor"></span>    }
00287 <span class="preprocessor">#endif</span>
00288 <span class="preprocessor"></span>
00289 <span class="preprocessor">#endif  </span><span class="comment">/* _MSCAN_API_H */</span>
00290 
</pre></div>
	</div>
</div>

<div class="footer">
<!-- Footer -->
	<p class="footer">
	Generated for MSCAN API using <a href="http://www.doxygen.org">doxygen</a>.<br>
	Copyright &copy; 2019 <a href="http://www.men.de">MEN Mikro Elektronik GmbH</a>. All Rights Reserved.
	</p>
</div>

</body>
</html>

